var bonsai = function(){
    var offset = 650;

    var generateLeaf = function(x,y){
        var leafID = Math.floor(Math.random() * 32) + 1;
        var rotation = Math.floor(Math.random() * 360);

        var tag = document.createElementNS('http://www.w3.org/2000/svg', 'use');
        tag.setAttributeNS('http://www.w3.org/1999/xlink', 'xlink:href', '#Leaf-' + leafID);
        tag.setAttribute('transform', 'translate('+x+', '+y+') rotate('+rotation+') scale(0)');

        $("#bonsai").append(tag);

        setTimeout(function(){
            tag.setAttribute('transform', 'translate('+x+', '+y+') rotate('+rotation+') scale(1)');
        }, offset);
                
        offset += 12;
    };

    var leafLocations = [
        [529, 543],
        [530, 576],
        [565, 603],
        [622, 649],
        [609, 637], 
        [590, 627],
        [580, 615],
        [569, 609],
        [515, 542],
        [520, 545],
        [466, 536],
        [478, 552],
        [492, 558],
        [448, 528],
        [443, 513],
        [441, 521],
        [446, 539],
        [433, 485],
        [428, 466],
        [428, 453],
        [434, 496],
        [444, 514],
        [445, 518],
        [541, 584],
        [495, 544],
        [502, 562],
        [471, 542],
        [613, 640],
        [598, 632],
        [562, 600],
        [223, 475],
        [209, 474],
        [215, 484],
        [209, 494],
        [204, 488],
        [239, 445],
        [191, 513],
        [251, 428],
        [192, 442],
        [166, 426],
        [180, 438],
        [180, 537],
        [174, 551],
        [233, 398],
        [307, 378],
        [283, 355],
        [244, 451],
        [216, 457],
        [187, 532],
        [322, 401],
        [297, 363],
        [260, 301],
        [218, 297],
        [188, 294],
        [247, 334],
        [396, 257],
        [485, 301],
        [422, 208],
        [438, 209],
        [462, 198],
        [451, 201],
        [453, 267],
        [353, 245],
        [290, 309],
        [272, 324],
        [232, 451],
        [305, 401],
        [300, 372],
        [338, 275],
        [351, 263],
        [341, 168],
        [377, 161],
        [421, 158],
        [317, 138],
        [311, 216],
        [225, 282],
        [229, 386],
        [481, 323],
        [524, 337],
        [541, 341],
        [211, 300],
        [192, 296],
        [365, 145],
        [240, 344],
        [419, 269],
        [554, 344],
        [516, 282],
        [411, 265],
        [290, 309],
        [271, 300],
        [445, 148],
        [410, 205],
        [288, 157],
        [396, 195], 
        [481, 324],
        [390, 191],
        [228, 338],
        [384, 184],
        [385, 265],
        [416, 278],
        [391, 229],
        [396, 160],
        [461, 244],
        [453, 295],
        [493, 330],
        [482, 301],
        [505, 335],
        [505, 288],
        [409, 160],
        [334, 194],
        [352, 175],
        [296, 156],
        [375, 157],
        [268, 144],
        [281, 150],
        [392, 157],
        [435, 288],
        [284, 154],
        [353, 164],
        [435, 153],
        [399, 160],
        [369, 146],
        [442, 148],
        [370, 136],
        [377, 122]
    ];

    $(document).ready(function(){
        setTimeout(function(){
            $("#bonsai").addClass("v");

            for(var i = 0; i < leafLocations.length; i++) {
                generateLeaf(leafLocations[i][0], leafLocations[i][1]);
            }
        }, 400);
    });
};