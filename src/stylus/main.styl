@import url('https://rsms.me/inter/inter.css')

@import 'variables.styl'

$colors = {
	'success': {
		'1': $success,
		'2': $success-invert,
		'3': $success-light,
		'4': $success-dark
	} }

$column-gap = 0.75rem

@import '~bulma-stylus/stylus/base/minireset'

@import '~bulma-stylus/stylus/utilities/initial-variables'
@import '~bulma-stylus/stylus/utilities/functions'
@import '~bulma-stylus/stylus/utilities/derived-variables'
@import '~bulma-stylus/stylus/utilities/mixins'
@import '~bulma-stylus/stylus/utilities/controls'

@import '~bulma-stylus/stylus/base/generic'

@import '~bulma-stylus/stylus/layout/_all'

@import '~bulma-stylus/stylus/grid/tiles'

@import '~bulma-stylus/stylus/elements/button'
@import '~bulma-stylus/stylus/elements/container'
@import '~bulma-stylus/stylus/elements/content'
@import '~bulma-stylus/stylus/elements/table'
@import '~bulma-stylus/stylus/elements/tag'
@import '~bulma-stylus/stylus/elements/title'

@import '~bulma-stylus/stylus/components/navbar'


dark()
	@media (prefers-color-scheme dark)
		{block}


::-moz-selection
	color $white
	background $green

::selection
	color $white
	background $green

html
	+dark()
		background $dark-bg

body
	line-height 1.9em

	+dark()
		color $dark-fg

+dark()
	.content
		h1, h2, h3, h4, h5, h6
			color $dark-fg
	
	strong
		color $dark-fg !important
	
	.navbar
		background $dark-bg
	
		.navbar-menu
			a.navbar-item, .navbar-link
				color $dark-fg

				&:focus, &:focus-within, &:hover, &.is-active
					background lighten($dark-bg, 5%)

			.navbar-item
				&.has-dropdown:focus,
				&.has-dropdown:hover,
				&.has-dropdown.is-active
					.navbar-link
						background lighten($dark-bg, 5%)
			
			+dark()
				.navbar-dropdown
					background $dark-bg
					border-top lighten($dark-bg, 7%)

					.navbar-item
						color $dark-fg !important
	
	.footer
		background lighten($dark-bg, 5%)
	
	.button.is-success
		background $dark-green !important

		&:hover
			background darken($dark-green, 10%) !important

		&:active
			background darken($dark-green, 20%) !important
	
	pre
		color $dark-fg
	
	hr
		background lighten($dark-bg, 10%)

.columns
	margin-left ($column-gap * -1)
	margin-right ($column-gap * -1)
	margin-top ($column-gap * -1)

	&:last-child
		margin-bottom ($column-gap * -1)

	&:not(:last-child)
		margin-bottom 'calc(1.5rem - %s)' % $column-gap

	&.is-centered
		justify-content center
	
	+tablet()
		display flex

.column
	display block
	flex-basis 0
	flex-grow 1
	flex-shrink 1
	padding $column-gap

	&.is-four-fifths
		flex none
		width 80%

	&.is-two-thirds
		flex none
		width 66.6666%
	
	&.is-3
		flex none
		width 25%

.has-text-success
	color $success !important

	+dark()
		color $dark-green !important

.has-text-centered
	text-align center !important

p
	margin-bottom 0.75em !important

.content a, .table a
	position relative
	white-space nowrap

	+dark()
		color $white

	&:not(.button):after
		content ''
		display block
		background rgba($green, 0.5)
		height 3px
		position absolute
		left 0
		right 0
		bottom -2px
	
	&:hover
		color $green

code
	color $red

	+dark()
		color saturate($green, 50%)

code, pre
	border-radius 3px

	+dark()
		background lighten($dark-bg, 7%)

.title
	+dark()
		color $dark-fg

	&:not(.is-spaced) + .subtitle
		margin-top 1rem !important
		line-height 1.8
		font-size 1.15rem

		+dark()
			color $dark-fg

	p + &
		margin-top 1.8em !important

	h1&
		font-family $family-secondary
		font-weight 200
		font-style normal
		font-size 2.8em
		margin-bottom 0.5em !important

	& + .tag
		position relative
		top -0.75rem
		font-size 0.7rem
		font-weight bold
		background $info
		color $white

		+dark()
			background darken($info, 30%)

.section
	padding 6.5rem 1.5rem

	&.is-light
		background $white-bis

		+dark()
			background lighten($dark-bg, 3%)

		& + .section.is-light
			padding-top 0

.table
	background none

	th
		padding-left 0

	th, td
		padding-top 1em
		padding-bottom 1em

		+dark()
			color $dark-fg
			border-color lighten($dark-bg, 10%)

.navbar-brand img
	max-height 2.5rem
	margin 0.5rem 1rem 0.5rem 0

	+dark()
		filter brightness(5)
		opacity 0.85

.navbar-link.is-active,
.navbar-link:hover,
a.navbar-item.is-active,
a.navbar-item:hover
	color $green

.navbar-link:not(.is-arrowless)::after
	border-color $grey-light
	border-bottom-width 2px
	border-left-width 2px
	border-radius 2px

$gradient-top-left = bulma-stylus-darken(bulma-stylus-saturate(spin($light, -10deg), 10%), 10%)
$gradient-bottom-right = bulma-stylus-lighten(bulma-stylus-saturate(spin($light, 10deg), 5%), 5%)
$gradient-dark-top-left = bulma-stylus-lighten(bulma-stylus-saturate(spin($dark-bg, 10deg), 5%), 9%)

.hero
	margin-top 3rem
	background-image: linear-gradient(141deg, $gradient-top-left 0, $light 71%, $gradient-bottom-right 100%)

	+mobile()
		.navbar-menu
			background-image: linear-gradient(141deg, $gradient-top-left 0, $light 71%, $gradient-bottom-right 100%)
	
	+dark()
		background-image: linear-gradient(141deg, $gradient-dark-top-left 0, $dark-bg 85%, $dark-bg 100%)

		+mobile()
			.navbar-menu
				background-image: linear-gradient(141deg, $gradient-dark-top-left 0, $dark-bg 85%, $dark-bg 100%)

	code
		font-size 16px
		border 1px solid $grey-lighter
		padding 0 8px
		line-height 26px

		+dark()
			border-color $dark-bg

	.level span
		height 28px

.feature-icon
	background $grey-dark
	color $green
	border-radius 50%
	margin-bottom 1rem
	float left
	font-size 0.9rem
	line-height 1
	width 4rem
	height 4rem
	display flex
	align-items center
	justify-content center
	box-shadow 0 0 0 3px lighten($grey-dark, 70%)

	+dark()
		box-shadow 0 0 0 3px lighten($dark-bg, 10%)

#usecase-generator
	position relative
	white-space nowrap
	cursor pointer
	-webkit-touch-callout none
	-webkit-user-select none
	-khtml-user-select none
	-moz-user-select none
	-ms-user-select none
	user-select none

	&:after
		content ' '
		font-size 0
		position absolute
		bottom -2px
		left 0
		right 0
		height 6px
		background $green
		opacity 0.5
		z-index -1

@keyframes shake
	0%, 100%
		top -1px
		left -1px

	25%
		top 0
		left 1px

	50%
		top -1px
		left 0

	75%
		top 1px
		left 1px


.has-shake
	position relative
	animation shake 0.2s infinite

#features, #creds
	.column
		p
			font-size 0.95rem
			line-height 1.8em
			margin-bottom 2rem !important
			padding-right 1rem

		.title
			margin-bottom 0.75rem !important
			clear both